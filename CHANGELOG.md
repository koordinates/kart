# sno changelog

Please note that compatibility for 0.x releases (software or repositories) isn't guaranteed. Sno is evolving quickly and things will change. However, we aim to provide the means to upgrade existing repositories between 0.x versions and to 1.0.

_When adding new entries to the changelog, please include issue/PR numbers wherever possible._

## 0.5.0 (UNRELEASED)

* Added a `sno meta get` command for viewing dataset metadata.
* `merge`, `commit`, `init`, `import` commands can now take commit messages as files with `--message=@filename.txt`. This replaces the `sno commit -F` option.
* `import`: Added `--table-info` option to set dataset metadata, when it can't be autodetected from the source database
* packaging: Fix issue with broken git component paths in packages on macOS and Linux (#143)

## 0.4.0

### Major changes in this release

* Basic conflict resolution:
    - `sno merge` now puts the repo in a merging state when there are conflicts ([#80](https://github.com/koordinates/sno/issues/80))
    - Added `sno conflicts` to list conflicts ([#84](https://github.com/koordinates/sno/issues/84))
    - Added `sno resolve` ([#101](https://github.com/koordinates/sno/issues/101))
    - Added `sno merge --continue`  ([#94](https://github.com/koordinates/sno/issues/94))
* Major improvements to `sno import` and `sno init --import`:
    - Can now import from postgres databases ([#90](https://github.com/koordinates/sno/issues/90))
    - Multiple tables can be imported at once ([#118](https://github.com/koordinates/sno/issues/118))
* Added `sno show`: shows a commit. With `-o json` generates a patch ([#48](https://github.com/koordinates/sno/issues/48))
* Added `sno apply` to apply the patches generated by `sno show -o json` ([#61](https://github.com/koordinates/sno/issues/61))

### Minor features / fixes:

* add a changelog (here!)
* `sno import` enhancements (in addition to major changes above):
    - GPKG database paths no longer need `GPKG:` prefix
    - now takes table names as separate arguments
    - Added `--primary-key=FIELD` to override primary key field name
    - Added `--message` to customize the commit message
    - `--list` no longer requires a repository
* `sno init --import` enhancements:
    - imports are much faster ([#55](https://github.com/koordinates/sno/issues/55))
    - now imports _all_ tables from database, doesn't allow table to be specified
* Many JSON output improvements:
    - JSON output is specified with `-o json` instead of `--json` ([#98](https://github.com/koordinates/sno/issues/98))
    - Added syntax highlighting to JSON output when viewed in a terminal ([#54](https://github.com/koordinates/sno/issues/54))
    - `sno diff` JSON output layout has changed - features are now flat objects instead of GeoJSON objects. This is much more compact ([#71](https://github.com/koordinates/sno/issues/71))
    - Added JSON output option for most commands
    - Added `--json-style` option to several commands to control JSON formatting ([#70](https://github.com/koordinates/sno/issues/70))
* `sno diff`:
    - `a..b` now refers to the same changes as `sno log a..b` ([#116](https://github.com/koordinates/sno/issues/116))
    - can now diff against tree objects, particularly the empty tree ([#53](https://github.com/koordinates/sno/issues/53))
    - can now view some subset of the changes by supplying filter args, ie `[dataset[:pk]]`
* `sno commit`:
    - can now commit some subset of the changes by supplying filter args, ie `[dataset[:pk]]` ([#69](https://github.com/koordinates/sno/issues/69))
* removed `import-gpkg` command; use `import` instead ([#85](https://github.com/koordinates/sno/issues/85))
* Error messages now go to stderr instead of stdout ([#57](https://github.com/koordinates/sno/issues/57))
* Error conditions now use exit codes to indicate different types of errors ([#46](https://github.com/koordinates/sno/issues/46))

## 0.3.1

* Sno is now available on Windows ðŸŽ‰ (Windows 8.1+ / Server 2016+ (64-bit))
* Updates to continuous integration â€” installers/archives are now built and tested with every commit for every platform.
* For macOS users, a homebrew "tap" is now available: `brew cask install koordinates/sno/sno`
* Several bug fixes

## 0.3.0

### Major changes in this release

* License: sno is now publicly available under the GPL open source license.
* Sno now has a website at [**sno.earth**](https://sno.earth)
* Standalone builds and packaging for Linux and macOS. Windows won't be far behind
* Refactoring to support alternative database working copies
* Dependency upgrades (GDAL; Git; Pygit2; Proj; Libgit2; Sqlite; and others)
* Several bug fixes

### Upgrading

If you were running a preview release, remove it before installing the new release:

```console
$ brew uninstall sno
$ brew untap koordinates/sno
```

### Repository Hosting

We have an initial preview available of our Sno repository hosting. This allows you & your team to push and pull Sno repositories. Please contact support@koordinates.com with your Github username and we can get you set up. There is no cost for this service.

### Compatibility


Repositories created with Sno v0.2 are compatible with v0.3. For assistance upgrading any v0.1 repositories, please read our [upgrade guide](https://github.com/koordinates/sno/wiki/Upgrading).


## 0.2.0

### Major changes in this release
* First and foremost, the name â€” we're now called Sno!
* A new repository structure/layout, which has better performance and a smaller on-disk size
* Data imports are now orders of magnitude faster
* Support for multiple datasets in a single Sno repository
* Support for non-spatial datasets
* Increased test coverage including end-to-end tests
* Improved macOS Homebrew packaging with CI testing.
* Prototype support for spatial-indexing and a sno query command for spatial lookups.
* Diffs across branches/commits, and a GeoJSON diff format.
* Numerous bug fixes
